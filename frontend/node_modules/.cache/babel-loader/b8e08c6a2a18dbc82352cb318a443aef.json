{"remainingRequest":"D:\\virza\\htdocs\\vue\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\virza\\htdocs\\vue\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\virza\\htdocs\\vue\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\virza\\htdocs\\vue\\frontend\\src\\views\\backend\\admin\\bookList.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\virza\\htdocs\\vue\\frontend\\src\\views\\backend\\admin\\bookList.vue","mtime":1647670931600},{"path":"D:\\virza\\htdocs\\vue\\frontend\\babel.config.js","mtime":1646903513910},{"path":"D:\\virza\\htdocs\\vue\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647829992337},{"path":"D:\\virza\\htdocs\\vue\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1647829994924},{"path":"D:\\virza\\htdocs\\vue\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1647829992337},{"path":"D:\\virza\\htdocs\\vue\\frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1647829995338}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovdmlyemEvaHRkb2NzL3Z1ZS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJhZG1pbi1iYXNlIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYm9va19saXN0OiB7fSwKICAgICAgcGFnZTogMSwKICAgICAgcGVyX3BhZ2U6IDAsCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdpbmF0aW9uX29wdGlvbjogewogICAgICAgIGVkZ2VOYXZpZ2F0aW9uOiB0cnVlCiAgICAgIH0sCiAgICAgIHNlYXJjaF9rZXk6ICcnLAogICAgICBzZWxlY3RlZF9kYXRhOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgdmFyIHVybCA9ICIvYm9vay1saXN0P3BhZ2U9ICIuY29uY2F0KHBhZ2UpOwoKICAgICAgaWYgKHRoaXMuc2VhcmNoX2tleS5sZW5ndGggPiAwKSB7CiAgICAgICAgdXJsICs9ICIma2V5PSIuY29uY2F0KHRoaXMuc2VhcmNoX2tleSk7CiAgICAgIH0KCiAgICAgIHdpbmRvdy5heGlvcy5nZXQodXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgX3RoaXMuYm9va19saXN0ID0gcmVzLmRhdGE7CiAgICAgICAgX3RoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICBfdGhpcy5wZXJfcGFnZSA9IHJlcy5kYXRhLnBlcl9wYWdlOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVfYm9vazogZnVuY3Rpb24gZGVsZXRlX2Jvb2soYm9vaywgaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgY29uID0gY29uZmlybSgnU3VyZSB3YW50IHRvIGRlbGV0ZT8/Jyk7CiAgICAgIGNvbnNvbGUubG9nKGluZGV4KTsKCiAgICAgIGlmIChjb24pIHsKICAgICAgICB3aW5kb3cuYXhpb3MucG9zdCgnL2Jvb2stbGlzdC9kZWxldGUnLCB7CiAgICAgICAgICBpZDogYm9vay5pZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpOyAvLyB0aGlzLmJvb2tfbGlzdC5kYXRhLnNwbGljZShpbmRleCwxKTsgCgogICAgICAgICAgX3RoaXMyLmdldERhdGEoKTsgLy8gZm9yIHNob3cgb25seSAxMCBkYXRhCgogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkX3RvX3NlbGVjdGVkOiBmdW5jdGlvbiBhZGRfdG9fc2VsZWN0ZWQoaWQpIHsKICAgICAgdGhpcy5zZWxlY3RlZF9kYXRhLmluY2x1ZGVzKGlkKSA/IHRoaXMuc2VsZWN0ZWRfZGF0YSA9IHRoaXMuc2VsZWN0ZWRfZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbSAhPSBpZDsKICAgICAgfSkgOiB0aGlzLnNlbGVjdGVkX2RhdGEucHVzaChpZCk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRfZGF0YSk7CiAgICB9LAogICAgY2hlY2tfYWxsOiBmdW5jdGlvbiBjaGVja19hbGwoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy5ib29rX2xpc3QuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBfdGhpczMuc2VsZWN0ZWRfZGF0YS5pbmNsdWRlcyhpdGVtLmlkKSA/IF90aGlzMy5zZWxlY3RlZF9kYXRhID0gX3RoaXMzLnNlbGVjdGVkX2RhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtMikgewogICAgICAgICAgcmV0dXJuIGl0ZW0yICE9IGl0ZW0uaWQ7CiAgICAgICAgfSkgOiBfdGhpczMuc2VsZWN0ZWRfZGF0YS5wdXNoKGl0ZW0uaWQpOwogICAgICAgIHJldHVybiAwOyAvLyByZXR1cm4gdGhpcy5zZWxlY3RlZF9kYXRhLnB1c2goaXRlbS5pZCk7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZV9tdWx0aXBsZTogZnVuY3Rpb24gZGVsZXRlX211bHRpcGxlKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBjb24gPSBjb25maXJtKCdTdXJlIHdhbnQgdG8gZGVsZXRlPz8nKTsgLy8gY29uc29sZS5sb2coaW5kZXgpOwoKICAgICAgaWYgKGNvbikgewogICAgICAgIHdpbmRvdy5heGlvcy5wb3N0KCcvYm9vay1saXN0L2RlbGV0ZS1tdWx0aScsIHsKICAgICAgICAgIGlkczogdGhpcy5zZWxlY3RlZF9kYXRhCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMuZGF0YSk7CiAgICAgICAgICBfdGhpczQuc2VsZWN0ZWRfZGF0YSA9IFtdOyAvLyB0aGlzLmJvb2tfbGlzdC5kYXRhLnNwbGljZShpbmRleCwxKTsgCgogICAgICAgICAgX3RoaXM0LmdldERhdGEoKTsgLy8gZm9yIHNob3cgb25seSAxMCBkYXRhCgoKICAgICAgICAgIHdpbmRvdy4kKCcjY2hlY2tfYWxsJykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGtleSkgewogICAgICBjb25zb2xlLmxvZyhrZXkpOwogICAgICB0aGlzLnNlYXJjaF9rZXkgPSBrZXk7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJnZXRfc2VydmVyX3VybCJdKSkKfTs="},{"version":3,"mappings":"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","names":["mapGetters","name","data","book_list","page","per_page","total","pagination_option","edgeNavigation","search_key","selected_data","created","getData","methods","url","length","window","axios","get","then","res","console","log","delete_book","book","index","con","confirm","post","id","add_to_selected","includes","filter","item","push","check_all","map","item2","delete_multiple","ids","$","prop","search","key","computed"],"sourceRoot":"","sources":["D:\\virza\\htdocs\\vue\\frontend\\src\\views\\backend\\admin\\bookList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"row\">\r\n      <div class=\"col-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <div class=\"d-flex justify-content-between flex-wrap\">\r\n                \r\n              <h4>Book List</h4>\r\n\r\n              <input\r\n                type=\"text\"\r\n                class=\"form-control w-50\"\r\n                @keyup=\"search($event.target.value)\"\r\n                placeholder=\"search..\"\r\n              />\r\n\r\n              <button \r\n              v-if=\"selected_data.length > 0\"\r\n              @click.prevent=\"delete_multiple()\"  \r\n              class=\"btn btn-success\">Delete Selected ( {{ selected_data.length }} )</button>\r\n\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body table-responsive\">\r\n            <table class=\"table table-bordered table-striped text-center align-middle\">\r\n              <thead>\r\n                <tr>\r\n                  <th>\r\n                    <input type=\"checkbox\" @change.prevent=\"check_all()\" id=\"check_all\" class=\"form-check\" >\r\n                  </th>\r\n                  <th>#</th>\r\n                  <th>Image</th>\r\n                  <th>Book Name</th>\r\n                  <th>Author</th>\r\n                  <th>Section</th>\r\n                  <th class=\"text-center\" style=\"width: 20%\">Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"(book, index) in book_list.data\" :key=\"book.id\">\r\n\r\n                  <!-- click | focus | change -->\r\n                  <td>\r\n                    <input v-if=\"selected_data.includes(book.id)\" checked type=\"checkbox\" @change=\"add_to_selected(book.id)\" class=\"form-check\" >\r\n                    <input v-else type=\"checkbox\" @change=\"add_to_selected(book.id)\" class=\"form-check\" >\r\n                  </td>\r\n\r\n                  <td>{{ book.id }}</td>\r\n                  <td>\r\n                    <img\r\n                      v-if=\"book.image.split('/')[0] === 'upload'\"\r\n                      :src=\"`${get_server_url}/${book.image}`\"\r\n                      style=\"height: 70px\"\r\n                      alt=\"image\"\r\n                    />\r\n                    <img\r\n                      v-else\r\n                      :src=\"`http://${book.image}`\"\r\n                      style=\"height: 70px\"\r\n                      alt=\"image\"\r\n                    />\r\n                  </td>\r\n                  <td>{{ book.name }}</td>\r\n                  <td>{{ book.author }}</td>\r\n                  <td>{{ book.section }}</td>\r\n                  <td>\r\n                    <div class=\"d-flex justify-content-end\">\r\n                      <a href=\"#\" class=\"btn btn-sm btn-primary mx-1\"\r\n                        >New Entry</a\r\n                      >\r\n                      <router-link :to=\"{name: 'bookEdit', params:{id: book.id}}\" class=\"btn btn-sm btn-warning mx-1\">Edit</router-link>\r\n                      <p @click.prevent=\"delete_book(book,index)\" class=\"btn btn-sm btn-danger mx-1\">Delete</p>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div class=\"card-footer\">\r\n            <!-- <Pagination v-model=\"page\" :records=\"total\" :per-page=\"per_page\" @paginate=\"getData\" /> -->\r\n            <pagination v-model=\"page\" :options=\"pagination_option\" :records=\"total\" :per-page=\"per_page\" @paginate=\"getData\" />\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"admin-base\",\r\n  data: function(){\r\n    return{\r\n      book_list: {},\r\n      page: 1,\r\n      per_page: 0,\r\n      total: 0,\r\n      pagination_option: {\r\n        edgeNavigation: true,\r\n      },\r\n      search_key: '',\r\n\r\n      selected_data: [],\r\n    }\r\n  },\r\n  created: function () {\r\n    this.getData();\r\n  },\r\n  methods: {\r\n    getData: function (page=1) {\r\n      let url = `/book-list?page= ${page}`;\r\n      if(this.search_key.length > 0) {\r\n        url += `&key=${this.search_key}`;\r\n      }\r\n      window.axios.get(url).then((res) => {\r\n        console.log(res.data);\r\n        this.book_list = res.data;\r\n        this.total = res.data.total;\r\n        this.per_page = res.data.per_page;\r\n      });\r\n    },\r\n    delete_book: function(book,index) {\r\n      let con = confirm('Sure want to delete??');\r\n      console.log(index);\r\n      if(con){\r\n        window.axios.post('/book-list/delete', {id: book.id})\r\n        .then(res=>{\r\n          console.log(res.data);\r\n          // this.book_list.data.splice(index,1); \r\n          this.getData(); // for show only 10 data\r\n        })\r\n      }\r\n    },\r\n    add_to_selected: function(id) {\r\n      this.selected_data.includes(id) \r\n      ?\r\n       this.selected_data = this.selected_data.filter(item=>item!=id) \r\n      : \r\n      this.selected_data.push(id);\r\n      console.log(this.selected_data);\r\n    },\r\n    check_all: function(){\r\n      this.book_list.data.map(item=>{\r\n\r\n        this.selected_data.includes(item.id) \r\n        ?\r\n        this.selected_data = this.selected_data.filter(item2=>item2!=item.id) \r\n        : \r\n        this.selected_data.push(item.id);\r\n        \r\n        return 0;\r\n        // return this.selected_data.push(item.id);\r\n      })\r\n    },\r\n    delete_multiple: function(){\r\n      let con = confirm('Sure want to delete??');\r\n      // console.log(index);\r\n      if(con){\r\n        window.axios.post('/book-list/delete-multi', { ids: this.selected_data })\r\n        .then((res)=>{\r\n          console.log(res.data);\r\n          this.selected_data = [];\r\n          // this.book_list.data.splice(index,1); \r\n          this.getData(); // for show only 10 data\r\n          window.$('#check_all').prop('checked',false);\r\n        })\r\n      }\r\n\r\n    },\r\n    search: function(key){\r\n      console.log(key);\r\n      this.search_key = key;\r\n      this.getData();\r\n    },\r\n\r\n  },\r\n  \r\n  computed: {\r\n    ...mapGetters([\"get_server_url\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}